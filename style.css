/* ========== RESET & BASE ========== */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: #ffffff;
  color: #0f172a;
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
}
a { color: #0ea5e9; text-decoration: none; }
a:hover { text-decoration: underline; }

/* ========== LAYOUT ========== */
.container {
  max-width: 980px;
  margin: 0 auto;
  padding: 20px 16px 80px;
}

.panel {
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 16px;
  padding: 18px;
  margin: 16px 0;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}

h1, h2 {
  margin: 0 0 10px;
  font-weight: 800;
  letter-spacing: -0.015em;
}
h1 { font-size: 28px; }
h2 { font-size: 20px; }
.subtitle { margin: 4px 0 0; color: #64748b; }

/* ========== HEADER ========== */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid #f1f5f9;
  margin-bottom: 12px;
}

.brand { display: flex; align-items: center; gap: 12px; }
.logo {
  width: 56px; height: 56px; border-radius: 14px;
  object-fit: contain; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.brand-text h1 { margin-bottom: 2px; }

.wallet-box { display: flex; align-items: center; gap: 10px; }
.wallet-info { display: flex; align-items: center; gap: 10px; }
.hidden { display: none !important; }
.ellipsis { max-width: 100%; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }

/* ========== GRID CARDS ========== */
.balances-grid, .result-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}
.card {
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 14px;
  background: #f8fafc;
}
.card .label { color: #64748b; font-size: 13px; margin-bottom: 6px; }
.card .value { font-weight: 800; font-size: 20px; }

/* ========== TABLE SELECT ========== */
.custom-table {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: end;
  margin-bottom: 8px;
}
.custom-table label { grid-column: 1 / -1; font-size: 13px; color: #334155; }
.custom-table input {
  padding: 10px 12px; border: 1px solid #e5e7eb; border-radius: 10px; outline: none;
}
.current-table { color: #334155; }
.note { color: #64748b; font-size: 13px; margin-top: 6px; }

/* ========== PLAY AREA ========== */
.bet-row {
  display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items: center;
}
.toggle { display: flex; gap: 8px; }

.amount-box label { font-size: 13px; color: #334155; display: block; margin-bottom: 6px; }
#bet-amount {
  width: 100%; padding: 10px 12px; border: 1px solid #e5e7eb; border-radius: 10px; outline: none;
}

.actions {
  display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px;
}

.limits { margin-top: 8px; color: #334155; }
.status {
  margin-top: 10px; padding: 10px 12px;
  border: 1px dashed #cbd5e1; border-radius: 10px; background: #f8fafc;
  font-size: 14px; min-height: 20px; color: #0f172a;
}

/* ========== BUTTONS ========== */
.btn {
  appearance: none; border: 1px solid #e5e7eb;
  padding: 10px 14px; border-radius: 10px; cursor: pointer;
  font-weight: 800; background: #f3f4f6; transition: transform .05s ease, filter .15s ease;
}
.btn:hover { filter: brightness(0.98); }
.btn:active { transform: translateY(1px); }

.primary { background: #111827; color: #fff; border-color: #111827; }
.fire { box-shadow: 0 0 0 2px rgba(17,24,39,0.15) inset; }
.ghost { background: #ffffff; border-color: #e5e7eb; }

.btn.toggle.active { background: #0ea5e9; color: #fff; border-color: #0ea5e9; }

/* ========== STAGE (BOWL + COINS) ========== */
.stage {
  position: relative;
  display: grid; place-items: center;
  min-height: 260px;
  background: radial-gradient(ellipse at center, #f8fafc 0%, #ffffff 60%);
  border: 1px dashed #e5e7eb; border-radius: 16px;
}

/* Bowl */
.bowl {
  width: 180px; height: 180px; border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, #94a3b8 0%, #64748b 40%, #334155 75%);
  box-shadow: inset 0 8px 18px rgba(0,0,0,0.35), 0 8px 18px rgba(0,0,0,0.06);
  opacity: 0.95;
  transform-origin: 50% 60%;
}
.bowl.shaking {
  animation: shake 0.55s ease-in-out 0s infinite;
}
@keyframes shake {
  0% { transform: translateX(0) rotate(0deg); }
  20% { transform: translateX(-4px) rotate(-1.5deg); }
  40% { transform: translateX(4px) rotate(1.5deg); }
  60% { transform: translateX(-3px) rotate(-1deg); }
  80% { transform: translateX(3px) rotate(1deg); }
  100% { transform: translateX(0) rotate(0deg); }
}

/* Coins container */
.coins {
  position: absolute; inset: 0; display: grid; place-items: center; pointer-events: none;
}
.coins.hidden { display: none; }

.coins .coin {
  position: absolute;
  width: 42px; height: 42px; border-radius: 50%;
  box-shadow: inset 0 8px 10px rgba(0,0,0,0.18), 0 2px 4px rgba(0,0,0,0.08);
  transform: rotate(var(--rot, 0deg));
}
.coin.white {
  background: radial-gradient(circle at 35% 35%, #ffffff, #f1f5f9 55%, #cbd5e1 100%);
  border: 1px solid #e2e8f0;
}
.coin.red {
  background: radial-gradient(circle at 35% 35%, #ef4444, #dc2626 55%, #991b1b 100%);
  border: 1px solid #b91c1c;
}

/* ---- Five reveal layouts (positions of 4 coins) ---- */
/* Center is roughly (50%, 50%). Positions tuned for visual realism */
.layout-even-0 .coin:nth-child(1),
.layout-odd-1 .coin:nth-child(1),
.layout-even-2a .coin:nth-child(1),
.layout-odd-3a .coin:nth-child(1),
.layout-even-4 .coin:nth-child(1) { left: calc(50% - 60px); top: calc(50% - 10px); --rot: -10deg; }

.layout-even-0 .coin:nth-child(2),
.layout-odd-1 .coin:nth-child(2),
.layout-even-2a .coin:nth-child(2),
.layout-odd-3a .coin:nth-child(2),
.layout-even-4 .coin:nth-child(2) { left: calc(50% - 10px); top: calc(50% - 50px); --rot: 15deg; }

.layout-even-0 .coin:nth-child(3),
.layout-odd-1 .coin:nth-child(3),
.layout-even-2a .coin:nth-child(3),
.layout-odd-3a .coin:nth-child(3),
.layout-even-4 .coin:nth-child(3) { left: calc(50% + 35px); top: calc(50% + 0px); --rot: -2deg; }

.layout-even-0 .coin:nth-child(4),
.layout-odd-1 .coin:nth-child(4),
.layout-even-2a .coin:nth-child(4),
.layout-odd-3a .coin:nth-child(4),
.layout-even-4 .coin:nth-child(4) { left: calc(50% - 5px); top: calc(50% + 38px); --rot: 9deg; }

/* Weâ€™ll let JS decide which coins are red/white per parity & txHash seed.
   The different layout classes help animate slight offsets if we want to vary more later. */

/* ========== FOOTER ========== */
.footer {
  margin-top: 22px; padding-top: 14px; border-top: 1px solid #f1f5f9; color: #64748b; text-align: center;
}
.footer .links { display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; margin-bottom: 6px; }
.footer .fine { font-size: 12px; }

/* ========== RESPONSIVE ========== */
@media (max-width: 780px) {
  .balances-grid, .result-grid { grid-template-columns: 1fr; }
  .custom-table { grid-template-columns: 1fr; }
  .bet-row { grid-template-columns: 1fr; }
  .header { flex-direction: column; align-items: flex-start; gap: 8px; }
  .wallet-box { width: 100%; justify-content: space-between; }
  .stage { min-height: 240px; }
  .bowl { width: 160px; height: 160px; }
  .coins .coin { width: 38px; height: 38px; }
}
