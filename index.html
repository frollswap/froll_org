<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FROLL.org ‚Äì Play & Swap</title>
  <link rel="icon" href="froll_48.png" type="image/png" />
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Swap FROLL/VIC and play blockchain-based dice game. 100% decentralized. Fair. No middlemen.">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
</head>
<body>
  <div class="main-container">
    
    <!-- Header with logo and price -->
    <div class="header">
      <img src="froll_48.png" alt="FROLL Logo" class="logo" />
      <div id="price-usd" class="price">Loading FROLL price...</div>
    </div>

    <!-- Home Screen -->
    <div id="home-screen" class="section active">
      <h1>Welcome to FROLL.org</h1>
      <p class="tagline">Swap FROLL ‚Üî VIC or try your luck with the Dice Game!</p>
      <div class="home-buttons">
        <button onclick="showSwap()">Swap FROLL/VIC</button>
        <button onclick="showDice()">Play Dice Now</button>
      </div>

      <div class="interface">
        <h2>üõ† Add VIC Network & FROLL Token</h2>
        <ul class="feature-list">
          <li>üß© <strong>Add VIC Network</strong><br>
            RPC: <span class="copy-box" onclick="copyText(this)">https://rpc.viction.xyz</span><br>
            Chain ID: <span class="copy-box" onclick="copyText(this)">88</span><br>
            Symbol: <span class="copy-box" onclick="copyText(this)">VIC</span><br>
            Explorer: <span class="copy-box" onclick="copyText(this)">https://vicscan.xyz</span>
          </li>
          <li>üîî <strong>Add FROLL Token</strong><br>
            Contract: <span class="copy-box" onclick="copyText(this)">0xB4d562A8f811CE7F134a1982992Bd153902290BC</span><br>
            Symbol: <span class="copy-box" onclick="copyText(this)">FROLL</span><br>
            Decimals: <span class="copy-box" onclick="copyText(this)">18</span>
          </li>
        </ul>
      </div>

      <div class="interface">
        <h2>üì¶ FROLL Token Info</h2>
        <ul class="feature-list">
          <li>Name: <strong>FortuneRolls</strong></li>
          <li>Symbol: <strong>FROLL</strong></li>
          <li>Blockchain: <strong>Viction (VIC)</strong></li>
          <li>Max Supply: <strong>1,000,000</strong></li>
          <li>Contract: 
            <a href="https://vicscan.xyz/token/0xB4d562A8f811CE7F134a1982992Bd153902290BC" target="_blank">
              View on VicScan
            </a>
          </li>
        </ul>
      </div>

      <div class="community-links">
        <h2>üåê Join the Community</h2>
        <a href="https://t.me/FortuneRolls" target="_blank">Telegram</a>
        <a href="https://twitter.com/frollorg" target="_blank">Twitter</a>
        <a href="https://facebook.com/froll.org" target="_blank">Facebook</a>
      </div>
    </div>

    <!-- Swap Interface -->
    <div id="swap-interface" class="section hidden">
      <h2>üîÅ Swap FROLL / VIC</h2>

      <div class="swap-controls">
        <div class="input-group">
          <label>From:</label>
          <select id="swap-direction" onchange="updateSwapUI()">
            <option value="vic-to-froll">VIC ‚Üí FROLL</option>
            <option value="froll-to-vic">FROLL ‚Üí VIC</option>
          </select>
        </div>

        <div class="input-group">
          <label>Amount:</label>
          <input type="number" id="swap-amount" placeholder="Enter amount" oninput="calculateSwapOutput()" />
        </div>

        <div class="input-group">
          <label>You'll receive:</label>
          <div id="swap-result">0</div>
        </div>

        <div class="swap-buttons">
          <button onclick="executeSwap()">Swap</button>
        </div>

        <div class="back-home">
          <button onclick="disconnectWallet(); showHome()">‚Üê Back to Home</button>
        </div>
      </div>
    </div>

    <!-- Dice Game Interface -->
    <div id="dice-interface" class="section hidden">
      <h2>üé≤ Dice Game ‚Äì Even or Odd</h2>
      <video src="dice-loop.mp4" autoplay loop muted class="dice-video"></video>

      <div class="dice-controls">
        <div class="input-group">
          <label>Table Min Bet (FROLL):</label>
          <input type="number" id="minBetInput" placeholder="e.g., 1" />
          <button onclick="setMinBet()">Set Table</button>
        </div>

        <div class="input-group">
          <label>Bet Amount (FROLL):</label>
          <input type="number" id="betAmount" placeholder="Enter amount" />
        </div>

        <div class="bet-buttons">
          <button onclick="placeBet('even')">Bet on Even</button>
          <button onclick="placeBet('odd')">Bet on Odd</button>
        </div>

        <div id="dice-result" class="result-area"></div>

        <div class="back-home">
          <button onclick="disconnectWallet(); showHome()">‚Üê Back to Home</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Load FROLL price in USD directly -->
  <script>
    async function fetchFrollPrice() {
      try {
        const res = await fetch("https://api.binance.com/api/v3/ticker/price?symbol=VICUSDT");
        const data = await res.json();
        const vicPrice = parseFloat(data.price);
        const frollPrice = vicPrice * 100;
        document.getElementById("price-usd").innerText = `1 FROLL ‚âà $${frollPrice.toFixed(2)} USD`;
      } catch (err) {
        document.getElementById("price-usd").innerText = "Price unavailable";
      }
    }
    fetchFrollPrice();
  </script>

  <script src="app.js"></script>
</body>
</html>
