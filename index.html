<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FROLL.org ‚Äì Swap & Dice</title>

    <!-- Logo cho tr√¨nh duy·ªát -->
    <link rel="icon" href="froll_48.png" type="image/png">

    <!-- K·∫øt n·ªëi CSS -->
    <link rel="stylesheet" href="style.css">

    <script>
        // C·∫≠p nh·∫≠t gi√° FROLL theo VIC t·ª´ Binance API
        async function updateFrollPrice() {
            const res = await fetch("https://api.binance.com/api/v3/ticker/price?symbol=VICUSDT");
            const data = await res.json();
            const vicPrice = parseFloat(data.price);
            const frollPrice = vicPrice * 100;
            document.getElementById("froll-price").textContent = `1 FROLL ‚âà $${frollPrice.toFixed(2)} USD`;
        }
        updateFrollPrice();
    </script>
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <img src="froll_48.png" alt="FROLL Logo" class="logo">

        <!-- FROLL Price -->
        <h2 id="froll-price" class="price">1 FROLL ‚âà Loading... USD</h2>

        <!-- Swap Button -->
        <button class="main-button" onclick="window.location.href='https://lottery.vin'">Swap FROLL/VIC</button>

        <!-- K·∫øt n·ªëi V√≠ v√† Hi·ªÉn th·ªã ƒê·ªãa ch·ªâ V√≠ + S·ªë d∆∞ -->
        <div class="card">
            <h3>üîó Connect Wallet</h3>
            <button id="connect-wallet-btn" class="button" onclick="connectWallet()">Connect Wallet</button>
            <p id="wallet-address">Not Connected</p>
            <p id="vic-balance">VIC Balance: 0</p>
            <p id="froll-balance">FROLL Balance: 0</p>
        </div>

        <!-- Ch·ªçn B√†n X√≥c ƒêƒ©a -->
        <div class="card">
            <h3>üé≤ Dice Game ‚Äì Even or Odd</h3>
            <img src="dice_game_banner.png" alt="Dice Game" class="dice-banner">
            <button id="play-dice-btn" class="main-button" onclick="playDice()">Play Dice Now</button>
        </div>

        <!-- Footer -->
        <footer>
            <p>üåê Join the Community</p>
            <div class="socials">
                <a href="https://t.me/FortuneRolls" target="_blank">Telegram</a>
                <a href="#" target="_blank">Twitter</a>
                <a href="#" target="_blank">Facebook</a>
            </div>
        </footer>
    </div>

    <!-- Swap Interface (·∫©n m·∫∑c ƒë·ªãnh) -->
    <div id="swap-interface" class="section hidden">
        <h2>üîÅ Swap FROLL / VIC</h2>
        <div class="swap-controls">
            <div class="input-group">
                <label>From:</label>
                <select id="swap-direction" onchange="updateSwapUI()">
                    <option value="vic-to-froll">VIC ‚Üí FROLL</option>
                    <option value="froll-to-vic">FROLL ‚Üí VIC</option>
                </select>
            </div>
            <div class="input-group">
                <label>Amount:</label>
                <input type="number" id="swap-amount" placeholder="Enter amount" oninput="calculateSwapOutput()">
            </div>
            <div class="input-group">
                <label>You'll receive:</label>
                <div id="swap-result">0</div>
            </div>
            <div class="swap-buttons">
                <button onclick="executeSwap()">Swap</button>
            </div>
            <div class="back-home">
                <button onclick="disconnectWallet(); showHome()">‚Üê Back to Home</button>
            </div>
        </div>
    </div>

    <!-- Dice Game Interface (·∫©n m·∫∑c ƒë·ªãnh) -->
    <div id="dice-interface" class="section hidden">
        <h2>üé≤ Dice Game ‚Äì Even or Odd</h2>
        <video src="dice-loop.mp4" autoplay loop muted class="dice-video"></video>

        <div class="dice-controls">
            <div class="input-group">
                <label>Table Min Bet (FROLL):</label>
                <input type="number" id="minBetInput" placeholder="e.g., 1">
                <button onclick="setMinBet()">Set Table</button>
            </div>
            <div class="input-group">
                <label>Bet Amount (FROLL):</label>
                <input type="number" id="betAmount" placeholder="Enter amount">
            </div>
            <div class="bet-buttons">
                <button onclick="placeBet('even')">Bet on Even</button>
                <button onclick="placeBet('odd')">Bet on Odd</button>
            </div>
            <div id="dice-result" class="result-area"></div>
            <div class="back-home">
                <button onclick="disconnectWallet(); showHome()">‚Üê Back to Home</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
